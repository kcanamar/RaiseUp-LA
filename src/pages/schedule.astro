---

// Import Astro components
import Layout from '../layouts/page.astro'
import { getCollection } from "astro:content";

const schedule = await getCollection('schedule')
---

<Layout>
  <section class="text-gray-600 body-font">
      <div class="container px-5 py-24 mx-auto items-center">

          <div class="flex justify-center">
              <h1 class="text-center border-b-2 border-blue-300 text-yellow-500 sm:text-3xl text-2xl font-medium title-font mb-4 pb-4 w-1/2">
                  Upcoming Events
              </h1>
          </div>
          <div class="flex flex-wrap mx-auto -my-8">
              {
                  schedule.slice(0,3).map((event) => {
                      return (
                          <div class="py-8 px-4 lg:w-1/3">
                              <article class="h-full flex items-start">
                                  <div class="w-12 flex-shrink-0 flex flex-col text-center leading-none">
                                      <span class="text-gray-500 pb-2 mb-2 border-b-2 border-gray-200">
                                          <time datetime={event.data.date.toISOString()}>
                                              {event.data.date.toDateString().split(" ")[1]}
                                          </time>
                                      </span>
                                      <span class="font-medium text-lg text-gray-800 title-font leading-none">
                                          <time datetime={event.data.date.toISOString()}>
                                              {event.data.date.toDateString().split(" ")[2]}
                                          </time>
                                      </span>
                                  </div>
                                  <a href={`/schedule/${event.slug}`}>
                                      <div class="flex-grow pl-6">
                                          <h2 class="tracking-widest text-xs title-font font-medium text-yellow-500 mb-1">
                                              {event.data?.category || "CATEGORY"}
                                          </h2>
                                          <h1 class="title-font text-xl font-medium text-gray-900 mb-3">
                                              {event.data.title}
                                          </h1>
                                          <p class="leading-relaxed mb-5">
                                              {event.data.description}
                                          </p>
                                          <a class="inline-flex items-center">
                                              <img alt="blog" src="https://www.svgrepo.com/show/335611/profile-default.svg" class="w-8 h-8 rounded-full flex-shrink-0 object-cover object-center">
                                              <span class="flex-grow flex flex-col pl-3">
                                                  <span class="title-font font-medium text-gray-900">{event.data.author}</span>
                                              </span>
                                          </a>
                                      </div>
                                  </a>
                              </article>
                          </div>
                      )
                  })
              }
          </div>
      </div>
  </section>


  <section class="text-gray-400 body-font">
      <div class="container px-5 py-24 mx-auto text-center sm:text-left">
          <div class="flex justify-center">
              <h1 class="text-center border-b-2 border-blue-300 text-yellow-500 sm:text-3xl text-2xl font-medium title-font mb-4 pb-4 w-1/2">
                  All Past Events
              </h1>
          </div>
          <div class="my-6 divide-y-2 divide-gray-100">
              {
                  schedule.slice(3).map((event) => {
                      return (
                          <div class="py-8 px-2 my-2 flex flex-col sm:flex-row">
                              <div class="md:w-64 sm:w-48 md:mb-0 mb-6 flex-shrink-0 flex flex-col">
                                  <span class="font-semibold title-font text-gray-700">{event.data?.category || "Category"}</span>
                                  <span class="mt-1 text-gray-500 text-sm">
                                      <time datetime={event.data.date.toISOString()}>
                                          {event.data.date.toDateString()}
                                      </time>
                                  </span>
                              </div>
                              <div class="md:flex-grow">
                                  <h2 class="text-2xl font-medium text-gray-900 title-font mb-2">
                                      <a href={`/schedule/${event.slug}`}>{event.data.title}</a>
                                  </h2>
                                  <p class="leading-relaxed">
                                      {event.data.description}
                                  </p>
                                  <a class="text-blue-500 inline-flex items-center mt-4" href={`/blog/${event.slug}`} rel={`/blog/${event.slug}`}>
                                      Learn More
                                      <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                          <path d="M5 12h14"></path>
                                          <path d="M12 5l7 7-7 7"></path>
                                      </svg>
                                  </a>
                              </div>
                          </div>
                      )
                  })
              }
          </div>
      </div>
  </section>
</Layout>